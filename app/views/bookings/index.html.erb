<div class="container">
  <h2 class="text-start ps-3"><strong>My Bookings:</strong></h2>
</div>
<br>
<div class="container">
  <div class = "d-flex w-auto flex-wrap">
    <% @bookings.each do |booking| %>
      <div class="card m-3 shadow-sm" style="width: 18rem;">
        <%= cl_image_tag booking.item.photo.key, height:250, crop: :fill, class:"bg-light card-img-top px-3 pt-3" %>
        <div class="card-body bg-light d-flex flex-column justify-content-between">
          <% if booking.status == "pending" %>
            <p class="text-secondary"><%= booking.status %></p>
          <% else %>
            <p class="text-success"><%= booking.status %></p>
          <% end %>
          <h5 class="card-title"><%= booking.item.name %></h5>
          <div class="mt-3">
            <p class="card-text mb-3"><strong>From: </strong><%= booking.start_date %></p>
            <p class="card-text mb-3"> <strong>To: </strong><%= booking.end_date %></p>
            <div class="d-flex justify-content-between align-items-end">
              <p class="card-text m-0"><strong>Total: <%= (booking.end_date - booking.start_date).to_i * booking.item.price_per_day.round%><i class="fa-solid fa-euro-sign p-1"></i></strong></p>
              <%= link_to "Cancel", booking_path(booking), data: {turbo_method: :delete, turbo_confirm: "Are you sure you want to cancel this booking?" }, class: "text-danger text-decoration-none", authenticity_token: true %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
