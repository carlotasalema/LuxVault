<div class="container">
  <h2 class="text-start ps-3"><strong>Booking requests:</strong></h2>
</div>
<br>
<div class="container">
  <div class = "d-flex w-auto flex-wrap">
    <% @bookings.each do |booking| %>
      <div class="card m-3 shadow-sm" style="width: 18rem;">
        <%= cl_image_tag booking.item.photo.key, height:250, crop: :fill, class:"bg-light card-img-top px-3 pt-3" %>
        <div class="card-body bg-light d-flex flex-column justify-content-between">
          <h5 class="card-title"><%= booking.item.name %></h5>
          <div class="mt-3">
          <p class="card-text mb-3"><strong>Status: </strong><%= booking.status %></p>
            <p class="card-text mb-3"><strong>From: </strong><%= booking.start_date %></p>
            <p class="card-text mb-3"> <strong>To: </strong><%= booking.end_date %></p>
            <p class="card-text m-0"><strong>Total: <%= (booking.end_date - booking.start_date).to_i * booking.item.price_per_day.round%><i class="fa-solid fa-euro-sign p-1"></i></strong></p>
            <div class="d-flex justify-content-between align-items-end mt-3">
              <%= link_to "Reject", booking_path(booking.id), class:"text-danger text-decoration-none", data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to reject this reservation?"}%>
              <%= link_to "Accept", accept_path(booking.id), class:"text-success text-decoration-none", data: {turbo_method: :post}%>
              <%= link_to "Reject", reject_path(booking), data: { turbo_method: :patch, turbo_confirm: "Are you sure you want to reject this booking?" }, class: "text-danger text-decoration-none" %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
